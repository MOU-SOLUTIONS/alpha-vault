<div class="table-responsive">
  <table class="table table-striped table-hover align-middle">
    <thead class="table-light text-center">
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Invested</th>
        <th>Current</th>
        <th>Î” %</th>
        <th>Started</th>
        <th>Risk</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let inv of goals" [class.table-success]="!isActive(inv)">
        <td>{{ inv.name }}</td>
        <td>{{ inv.investmentType }}</td>
        <td class="text-end">{{ inv.amountInvested | currency }}</td>
        <td class="text-end">{{ inv.currentValue | currency }}</td>
        <td
          class="text-end"
          [ngClass]="{
            'text-success': calculateChange(inv) >= 0,
            'text-danger': calculateChange(inv) < 0
          }"
        >
          {{ calculateChange(inv) | number : "1.2-2" }}%
        </td>
        <td class="text-center">{{ inv.startDate | date }}</td>
        <td class="text-center">{{ inv.riskLevel }}</td>
        <td class="text-center">
          <span
            class="badge"
            [ngClass]="inv.isSold ? 'bg-secondary' : 'bg-primary'"
          >
            {{ inv.isSold ? "Sold" : "Active" }}
          </span>
        </td>
        <td class="text-center">
          <button
            class="btn btn-sm btn-outline-primary me-1"
            (click)="modify.emit(inv); $event.stopPropagation()"
            [disabled]="!isActive(inv)"
          >
            Edit
          </button>
          <button
            class="btn btn-sm btn-outline-danger me-1"
            (click)="remove.emit(inv.id); $event.stopPropagation()"
          >
            Delete
          </button>
          <button
            class="btn btn-sm btn-outline-success"
            (click)="sell.emit(inv); $event.stopPropagation()"
            [disabled]="!isActive(inv)"
          >
            Sell
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
