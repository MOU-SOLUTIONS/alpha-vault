<!-- ================================================================
              Coded by Mohamed Dhaoui for Alpha Vault
================================================================ -->

<!-- Section: Top 5 Debts Container -->
<section class="chart-container" role="region" aria-labelledby="top5Title">
  
  <!-- Section: Enhanced Header -->
  <header class="chart-header">
    <div class="header-content">
      <div class="header-left">
        <div class="header-icon" role="img" aria-label="Top 5 debts icon">
          <span class="icon-symbol">🏆</span>
        </div>
        <div class="header-text">
          <h2 id="top5Title" class="header-title">Top 5 Debts</h2>
          <p class="header-subtitle">Your highest priority debts to tackle first</p>
        </div>
      </div>
      
      <div class="header-stats" *ngIf="hasDebtData()">
        <div class="stat-badge">
          <span class="stat-label">Total</span>
          <span class="stat-value">{{ getTotalTop5Debt() | number:'1.0-0' }}</span>
        </div>
        <div class="stat-badge primary">
          <span class="stat-label">Count</span>
          <span class="stat-value">{{ topDebts.length }}</span>
        </div>
      </div>
    </div>
  </header>
  
  <!-- Section: Chart Content -->
  <div class="chart-content">
    <div *ngIf="!hasDebtData()" class="no-data">
      <div class="no-data-icon">📊</div>
      <h3 class="no-data-title">No Debt Data Available</h3>
      <p class="no-data-description">Start adding your debts to see the top 5 priority list</p>
    </div>
    
    <div *ngIf="hasDebtData()" class="debt-list">
      <div 
        *ngFor="let debt of getTop5Debts(); let i = index; trackBy: trackByDebt" 
        class="debt-item"
        [style.--percentage]="getDebtPercentage(debt.remainingAmount) + '%'"
        [style.--animation-delay]="(i * 0.1) + 's'"
      >
        <div class="debt-info">
          <div class="debt-details">
            <span class="creditor-name">{{ debt.creditor }}</span>
            <span class="debt-percentage">{{ getDebtPercentage(debt.remainingAmount) | number:'1.0-1' }}%</span>
          </div>
          <span class="debt-amount">${{ debt.remainingAmount | number:'1.0-2' }}</span>
        </div>
        
        <div class="debt-bar">
          <div class="bar-fill" [style.width.%]="getDebtPercentage(debt.remainingAmount)"></div>
          <div class="bar-glow" [style.width.%]="getDebtPercentage(debt.remainingAmount)"></div>
        </div>
        
        <div class="debt-rank" *ngIf="i < 3">
          <span class="rank-badge" [class]="'rank-' + (i + 1)">{{ i + 1 }}</span>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Section: Enhanced Footer -->
  <footer class="chart-footer" *ngIf="hasDebtData()">
    <div class="footer-content">
      <div class="total-info">
        <div class="total-label">
          <span class="label-icon">💰</span>
          <span>Total Top 5 Debt</span>
        </div>
        <span class="total-amount">${{ getTotalTop5Debt() | number:'1.0-2' }}</span>
      </div>
      
      <div class="footer-insights" *ngIf="getTopDebt() as topDebt">
        <div class="insight-item">
          <span class="insight-icon">🎯</span>
          <span class="insight-text">
            <strong>{{ topDebt.creditor }}</strong> represents 
            <strong>{{ getDebtPercentage(topDebt.remainingAmount) | number:'1.0-1' }}%</strong> of your top 5 debt
          </span>
        </div>
        <div class="insight-item">
          <span class="insight-icon">💡</span>
          <span class="insight-text">
            <strong>Focus on the top 3 debts</strong> to maximize your debt snowball impact
          </span>
        </div>
      </div>
    </div>
  </footer>
</section>
