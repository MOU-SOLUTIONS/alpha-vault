<!--
  Alpha Vault Financial System
  
  @author Mohamed Dhaoui
  @component DebtProgressComponent
  @description Main debt dashboard component template for managing debt repayment progress
-->

<section class="debt-progress-container" role="region" aria-labelledby="debt-progress-heading">
  <header class="progress-header">
    <div class="header-content">
      <h2 id="debt-progress-heading" class="progress-title">
        <div class="title-icon" role="img" aria-label="Progress chart icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M3 3V21H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M7 16L12 11L16 15L21 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <span>Debt Repayment Progress</span>
      </h2>
    </div>
    
    <div class="progress-stats">
      <div class="stat-card total-debt">
        <div class="stat-icon" aria-hidden="true">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Total Debt</div>
          <div class="stat-value">${{ totalDebt | number:'1.0-2' }}</div>
        </div>
      </div>
      
      <div class="stat-card total-paid">
        <div class="stat-icon" aria-hidden="true">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 6L9 17L4 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Amount Paid</div>
          <div class="stat-value">${{ totalPaid | number:'1.0-2' }}</div>
        </div>
      </div>
      
      <div class="stat-card remaining">
        <div class="stat-icon" aria-hidden="true">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-label">Remaining</div>
          <div class="stat-value">${{ remainingAmount | number:'1.0-2' }}</div>
        </div>
      </div>
    </div>
  </header>
  
  <div class="progress-visualization">
    <div class="progress-bar-container">
      <div class="progress-bar">
        <div 
          class="progress-fill" 
          [style.width.%]="progressPercentage"
          [ngStyle]="{'background': progressColor}"
          [class.complete]="progressPercentage >= 100"
        ></div>
        <div class="progress-glow" [style.width.%]="progressPercentage"></div>
      </div>
      
      <div class="progress-labels">
        <span class="progress-percentage">{{ progressPercentage | number:'1.0-1' }}%</span>
        <span class="progress-text">Complete</span>
      </div>
    </div>
    
    <div class="progress-milestones">
      <div class="milestone" [class.active]="progressPercentage >= 25">
        <div class="milestone-dot"></div>
        <span class="milestone-label">25%</span>
      </div>
      <div class="milestone" [class.active]="progressPercentage >= 50">
        <div class="milestone-dot"></div>
        <span class="milestone-label">50%</span>
      </div>
      <div class="milestone" [class.active]="progressPercentage >= 75">
        <div class="milestone-dot"></div>
        <span class="milestone-label">75%</span>
      </div>
      <div class="milestone" [class.active]="progressPercentage >= 100">
        <div class="milestone-dot"></div>
        <span class="milestone-label">100%</span>
      </div>
    </div>
  </div>
  
  <div class="progress-insights">
    <div class="insight-card">
      <div class="insight-header">
        <span class="insight-icon" aria-label="Insight indicator">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/>
          </svg>
        </span>
        <h3 class="insight-title">Progress Insights</h3>
      </div>
      <div class="insight-content">
        <p class="insight-text">
          <strong>{{ progressStatus }}</strong> - {{ progressMessage }}
          <span *ngIf="progressPercentage >= 100" class="celebration-icon" aria-label="Celebration indicator">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-left: 4px;">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="currentColor"/>
            </svg>
          </span>
        </p>
      </div>
    </div>
  </div>
</section>
